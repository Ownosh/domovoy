-- =========================
-- Заполнение тестовых данных
-- =========================

-- Отключаем проверку внешних ключей для вставки данных
SET FOREIGN_KEY_CHECKS = 0;

-- =========================
-- Пользователи
-- =========================
INSERT INTO users (user_id, email, password_hash, full_name, phone, is_active, is_blocked, role, created_at, updated_at) VALUES
(1, 'admin@domovoy.ru', '$2a$10$slYQmyNdGzin7olVN3p9.OPST9/PgBkqquzi.Ks7KKUgO2t0jKMm2', 'Администратор', '+7 (900) 000-00-00', 1, 0, 'admin', '2025-01-01 09:00:00', '2025-01-01 09:00:00'),
(2, 'ivanov@example.com', '$2a$10$slYQmyNdGzin7olVN3p9.OPST9/PgBkqquzi.Ks7KKUgO2t0jKMm2', 'Иванов Иван Иванович', '+7 (900) 111-22-33', 1, 0, 'resident', '2025-01-02 10:00:00', '2025-01-02 10:00:00'),
(3, 'petrov@example.com', '$2a$10$slYQmyNdGzin7olVN3p9.OPST9/PgBkqquzi.Ks7KKUgO2t0jKMm2', 'Петров Пётр Петрович', '+7 (900) 222-33-44', 1, 0, 'resident', '2025-01-02 11:00:00', '2025-01-02 11:00:00'),
(4, 'sidorova@example.com', '$2a$10$slYQmyNdGzin7olVN3p9.OPST9/PgBkqquzi.Ks7KKUgO2t0jKMm2', 'Сидорова Анна Сергеевна', '+7 (900) 333-44-55', 1, 0, 'resident', '2025-01-02 12:00:00', '2025-01-02 12:00:00'),
(5, 'kozlov@example.com', '$2a$10$slYQmyNdGzin7olVN3p9.OPST9/PgBkqquzi.Ks7KKUgO2t0jKMm2', 'Козлов Максим Юрьевич', '+7 (900) 444-55-66', 1, 0, 'resident', '2025-01-03 08:30:00', '2025-01-03 08:30:00');

-- =========================
-- Жилые комплексы
-- =========================
INSERT INTO residential_complexes (complex_id, name, address, description, created_at, updated_at) VALUES
(1, 'Жилой комплекс "Домовой"', 'ул. Ленина, 45, Санкт-Петербург', 'Современный жилой комплекс с развитой инфраструктурой', '2025-01-01 00:00:00', '2025-01-01 00:00:00');

-- =========================
-- Здания
-- =========================
INSERT INTO buildings (building_id, complex_id, building_number, floors, total_apartments, year_built, construction_type, technical_info, created_at) VALUES
(1, 1, '1', 12, 120, 2020, 'Монолитный каркас', 'Евроремонт, газовое отопление', '2025-01-01 00:00:00'),
(2, 1, '2', 14, 140, 2021, 'Монолитный каркас', 'Евроремонт, индивидуальное отопление', '2025-01-01 00:00:00'),
(3, 1, '3', 10, 100, 2019, 'Кирпичное строение', 'Требует капитального ремонта', '2025-01-01 00:00:00');

-- =========================
-- Фотографии зданий
-- =========================
INSERT INTO building_photos (photo_id, building_id, photo_url, description, uploaded_at) VALUES
(1, 1, 'https://via.placeholder.com/600x400?text=Building+1', 'Главный фасад дома 1', '2025-01-01 00:00:00'),
(2, 2, 'https://via.placeholder.com/600x400?text=Building+2', 'Главный фасад дома 2', '2025-01-01 00:00:00'),
(3, 3, 'https://via.placeholder.com/600x400?text=Building+3', 'Главный фасад дома 3', '2025-01-01 00:00:00');

-- =========================
-- Категории объектов в округе
-- =========================
INSERT INTO area_categories (category_id, name, icon_name, description) VALUES
(1, 'Магазины и супермаркеты', 'shopping-cart', 'Розничные магазины и торговые центры'),
(2, 'Медицинские учреждения', 'hospital-box', 'Больницы, поликлиники, аптеки'),
(3, 'Образование', 'school', 'Школы, детские сады, учебные центры'),
(4, 'Парки и рекреация', 'tree', 'Парки, скверы, спортивные площадки'),
(5, 'Общественный транспорт', 'bus', 'Остановки транспорта, станции метро'),
(6, 'Кафе и рестораны', 'utensils', 'Кафе, рестораны, пекарни');

-- =========================
-- Объекты в округе
-- =========================
INSERT INTO area_objects (object_id, category_id, name, address, latitude, longitude, description, phone, website, working_hours, created_at) VALUES
(1, 1, 'Супермаркет "Пятёрочка"', 'ул. Ленина, 40', 59.9311, 30.3609, 'Круглосуточный супермаркет', '+7 (812) 123-45-67', 'www.5ka.ru', '24/7', '2025-01-01 00:00:00'),
(2, 1, 'Магазин "Окей"', 'ул. Ленина, 35', 59.9314, 30.3615, 'Универсальный магазин товаров', '+7 (812) 234-56-78', 'www.okey.ru', '09:00-22:00', '2025-01-01 00:00:00'),
(3, 2, 'Поликлиника №45', 'ул. Ленина, 50', 59.9308, 30.3600, 'Городская поликлиника', '+7 (812) 345-67-89', 'www.clinic45.ru', '08:00-20:00', '2025-01-01 00:00:00'),
(4, 3, 'Школа №123', 'ул. Ленина, 25', 59.9320, 30.3625, 'Средняя общеобразовательная школа', '+7 (812) 456-78-90', 'www.school123.ru', '08:00-17:00', '2025-01-01 00:00:00'),
(5, 4, 'Парк "Зелёный оазис"', 'ул. Ленина, 55', 59.9305, 30.3590, 'Зелёный парк с прогулочными зонами', '+7 (812) 567-89-01', 'www.park.ru', '06:00-23:00', '2025-01-01 00:00:00'),
(6, 6, 'Кафе "Уют"', 'ул. Ленина, 42', 59.9312, 30.3612, 'Уютное кафе с местной кухней', '+7 (812) 678-90-12', 'www.uzyt-cafe.ru', '10:00-23:00', '2025-01-01 00:00:00');

-- =========================
-- Контакты управляющей компании
-- =========================
INSERT INTO management_contacts (contact_id, complex_id, company_name, email, phone, website, address, working_hours, emergency_phone, updated_at) VALUES
(1, 1, 'ООО "Управляющая компания Домовой"', 'info@domovoy.ru', '+7 (812) 111-11-11', 'www.domovoy.ru', 'ул. Ленина, 45, офис 101', '09:00-18:00', '+7 (812) 999-99-99', '2025-01-01 00:00:00');

-- =========================
-- Новости
-- =========================
INSERT INTO news (news_id, title, content, type, image_url, author_id, is_published, created_at, updated_at) VALUES
(1, 'Запуск новой системы «Домовой»', 'Мы запустили новую систему взаимодействия с управляющей компанией. Теперь вы можете отправлять заявки, получать уведомления и новости прямо в приложении.', 'news', 'https://via.placeholder.com/600x300?text=Domovoy+System', 1, 1, '2025-01-01 10:00:00', '2025-01-01 10:00:00'),
(2, 'Уборка подъездов по новому графику', 'С 1 января уборка подъездов будет проводиться два раза в неделю. Подробный график размещён на информационных стендах и в мобильном приложении.', 'announcement', 'https://via.placeholder.com/600x300?text=Cleaning+Schedule', 1, 1, '2025-01-05 12:30:00', '2025-01-05 12:30:00'),
(3, 'Плановая дезинсекция подвалов', 'С 15 по 20 января будет проведена дезинсекция подвальных помещений. Все входы будут перекрыты по графику. Ожидаем вашего понимания.', 'announcement', NULL, 1, 1, '2025-01-06 09:00:00', '2025-01-06 09:00:00'),
(4, 'Техническое обслуживание лифтов', 'В выходные дни с 8 по 10 января будет проведено техническое обслуживание лифтов в зданиях 1 и 2.', 'news', NULL, 1, 1, '2025-01-06 14:00:00', '2025-01-06 14:00:00');

-- =========================
-- Уведомления
-- =========================
INSERT INTO notifications (notification_id, title, message, type, target_audience, sent_by, sent_at) VALUES
(1, 'Плановое отключение воды', 'Плановое отключение водоснабжения 15 декабря с 10:00 до 14:00 для проведения профилактических работ. Приносим извинения за временные неудобства.', 'outage', 'all', 1, '2025-01-02 09:00:00'),
(2, 'Общее собрание жильцов', 'Общее собрание жильцов состоится 20 декабря в 19:00 в помещении УК. Повестка: отчёт УК и обсуждение планов на следующий год.', 'meeting', 'verified', 1, '2025-01-03 18:30:00'),
(3, 'Перебой электроснабжения', 'Плановое отключение электроэнергии 25 декабря с 14:00 до 16:00 для замены оборудования на трансформаторной подстанции.', 'outage', 'all', 1, '2025-01-04 10:00:00'),
(4, 'Аварийная служба', 'Увеличен график работы аварийной службы. Телефон: +7 (812) 999-99-99. Круглосуточно.', 'announcement', 'all', 1, '2025-01-05 08:00:00');

-- =========================
-- Пользовательские уведомления
-- =========================
INSERT INTO user_notifications (notification_id, user_id, is_read, read_at) VALUES
(1, 2, 1, '2025-01-02 10:00:00'),
(1, 3, 0, NULL),
(1, 4, 1, '2025-01-02 11:30:00'),
(1, 5, 0, NULL),
(2, 2, 0, NULL),
(2, 3, 1, '2025-01-03 19:00:00'),
(2, 4, 1, '2025-01-03 20:00:00'),
(3, 2, 0, NULL),
(3, 3, 0, NULL),
(3, 4, 0, NULL),
(3, 5, 0, NULL),
(4, 2, 1, '2025-01-05 09:00:00'),
(4, 3, 1, '2025-01-05 09:15:00'),
(4, 4, 0, NULL),
(4, 5, 1, '2025-01-05 08:30:00');

-- =========================
-- Настройки уведомлений
-- =========================
INSERT INTO notification_settings (user_id, outage_enabled, meeting_enabled, announcement_enabled, emergency_enabled, general_enabled, updated_at) VALUES
(2, 1, 1, 1, 1, 1, '2025-01-02 10:00:00'),
(3, 1, 1, 1, 1, 1, '2025-01-02 11:00:00'),
(4, 1, 0, 1, 1, 1, '2025-01-02 12:00:00'),
(5, 1, 1, 1, 1, 0, '2025-01-03 08:30:00');

-- =========================
-- Заявки на обслуживание
-- =========================
INSERT INTO requests (request_id, user_id, category, subject, description, status, priority, created_at, updated_at, resolved_at) VALUES
(1, 2, 'repair', 'Протечка в подвале', 'Обнаружена протечка трубы в подвале возле 3-го подъезда. Нужен приход слесаря.', 'in_progress', 'high', '2025-01-04 11:15:00', '2025-01-05 10:00:00', NULL),
(2, 3, 'repair', 'Не работает освещение на лестничной клетке', 'На площадке между 5 и 6 этажами перегорела лампочка.', 'new', 'medium', '2025-01-06 20:10:00', '2025-01-06 20:10:00', NULL),
(3, 4, 'security', 'Шум в ночное время', 'Соседи с квартиры 37 регулярно шумят после 23:00. Просьба принять меры.', 'resolved', 'medium', '2025-01-07 08:45:00', '2025-01-07 15:30:00', '2025-01-07 15:30:00'),
(4, 5, 'utilities', 'Горячая вода отключена', 'В квартире 78 отсутствует горячая вода. Проверьте систему отопления.', 'accepted', 'high', '2025-01-07 09:00:00', '2025-01-07 10:00:00', NULL),
(5, 2, 'cleaning', 'Грязь в подъезде', 'Требуется дополнительная уборка подъезда дома 2. Много грязи после дождя.', 'new', 'low', '2025-01-08 14:20:00', '2025-01-08 14:20:00', NULL);

-- =========================
-- Вложения к заявкам
-- =========================
INSERT INTO request_attachments (attachment_id, request_id, file_url, file_type, uploaded_at) VALUES
(1, 1, 'https://storage.example.com/requests/leak-photo-1.jpg', 'image/jpeg', '2025-01-04 11:20:00'),
(2, 1, 'https://storage.example.com/requests/leak-photo-2.jpg', 'image/jpeg', '2025-01-04 11:25:00'),
(3, 3, 'https://storage.example.com/requests/noise-complaint.pdf', 'application/pdf', '2025-01-07 08:50:00');

-- =========================
-- Верификация пользователей
-- =========================
INSERT INTO user_verification (verification_id, user_id, building_id, apartment_number, document_type, document_url, status, submitted_at, reviewed_at, reviewed_by, rejection_reason) VALUES
(1, 2, 1, '45', 'ownership', 'https://storage.example.com/docs/user-2-doc.pdf', 'approved', '2025-01-03 12:00:00', '2025-01-04 10:00:00', 1, NULL),
(2, 3, 1, '12', 'rental', 'https://storage.example.com/docs/user-3-doc.pdf', 'pending', '2025-01-04 15:30:00', NULL, NULL, NULL),
(3, 4, 2, '67', 'ownership', 'https://storage.example.com/docs/user-4-doc.pdf', 'approved', '2025-01-02 09:00:00', '2025-01-03 14:00:00', 1, NULL),
(4, 5, 3, '23', 'rental', 'https://storage.example.com/docs/user-5-doc.pdf', 'rejected', '2025-01-05 11:00:00', '2025-01-06 16:00:00', 1, 'Неправильный тип документа. Требуется договор найма с печатью УК.');

-- =========================
-- Токены устройств
-- =========================
INSERT INTO device_tokens (token_id, user_id, device_token, device_type, created_at, last_used_at) VALUES
(1, 2, 'android_token_user2_device1', 'android', '2025-01-02 10:30:00', '2025-01-08 14:00:00'),
(2, 2, 'ios_token_user2_device2', 'ios', '2025-01-03 15:00:00', '2025-01-08 09:00:00'),
(3, 3, 'android_token_user3_device1', 'android', '2025-01-02 11:00:00', '2025-01-08 11:30:00'),
(4, 4, 'android_token_user4_device1', 'android', '2025-01-02 12:30:00', '2025-01-07 20:00:00'),
(5, 5, 'ios_token_user5_device1', 'ios', '2025-01-03 08:45:00', '2025-01-08 10:15:00');

-- =========================
-- Восстанавливаем проверку внешних ключей
-- =========================
SET FOREIGN_KEY_CHECKS = 1;

-- =========================
-- Вывод статуса
-- =========================
SELECT 'Тестовые данные успешно загружены!' as status;
